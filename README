Python script to extract pharmacokinetics papers from PubMed searches
and store table and freetext data about the model used in the study.

The following variables are required to be set in the .env file:
  ENTREZ_API_KEY=""
  ENTREZ_EMAIL=""
  AZURE_OPENAI_API_KEY=""
  AZURE_OPENAI_ENDPOINT=""
  AZURE_OPENAI_DEPLOYMENT=""
  AZURE_OPENAI_API_VERSION=""

This program makes use of the Entrez API to search PubMed, fetch abstracts, and link
abstracts to the corresponding PMC article if it exists. It also utilizes OpenAI API
to screen the tables and freetext of any returned articles for relevant model data.

The program was initally written for Azure OpenAI using the gpt-4o model, but converted
to use Meta's Llama 4 Maverick model using just OpenAI. The tokenizer uses gpt-4o to
check for chunk size, but access for the Llama 4 tokenizer can be requested on HuggingFace.
Switch tiktoken to use AutoTokenizer from the transformers library to use it. The gpt-4o
model seems to more effectively extract data. Just change .env values and some parameters
in main.py when model is set up.

To do a full screening make sure steps 2 and 3 in main.py are uncommented. Also make
sure the block of code at the end of screen_abstracts.py in run() (before the second return) is
commented out.

Install the required dependencies listed in "dependencies.txt" via pip.

Written by Christopher Quinney, 2025



